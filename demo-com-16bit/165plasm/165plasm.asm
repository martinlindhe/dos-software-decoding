00000100  BB0040            mov bx,0x4000
00000103  BE8040            mov si,0x4080
00000106  8AC3              mov al,bl
00000108  D0E8              shr al,1
0000010A  02C3              add al,bl
0000010C  8BC8              mov cx,ax
0000010E  F7E1              mul cx
00000110  F7E1              mul cx
00000112  BF0060            mov di,0x6000
00000115  F7F7              div di
00000117  2BC8              sub cx,ax
00000119  880F              mov [bx],cl
0000011B  880C              mov [si],cl
0000011D  F6D9              neg cl
0000011F  888F8000          mov [bx+0x80],cl
00000123  888C8000          mov [si+0x80],cl
00000127  FEC3              inc bl
00000129  4E                dec si
0000012A  80FB40            cmp bl,0x40
0000012D  76D7              jna 0x106
0000012F  B013              mov al,0x13
00000131  CD10              int 0x10
00000133  B800A0            mov ax,0xa000
00000136  8ED8              mov ds,ax
00000138  8EC0              mov es,ax
0000013A  33FF              xor di,di
0000013C  882D              mov [di],ch
0000013E  88AD7C01          mov [di+0x17c],ch
00000142  BE7D01            mov si,0x17d
00000145  2BF7              sub si,di
00000147  882C              mov [si],ch
00000149  88AC7C01          mov [si+0x17c],ch
0000014D  83C703            add di,byte +0x3
00000150  FEC5              inc ch
00000152  80FD40            cmp ch,0x40
00000155  72E5              jc 0x13c
00000157  33F6              xor si,si
00000159  BAC803            mov dx,0x3c8
0000015C  EE                out dx,al
0000015D  42                inc dx
0000015E  B90003            mov cx,0x300
00000161  F36E              rep outsb
00000163  8CC8              mov ax,cs
00000165  8ED8              mov ds,ax
00000167  FEC2              inc dl
00000169  32C9              xor cl,cl
0000016B  33FF              xor di,di
0000016D  8AD9              mov bl,cl
0000016F  02DA              add bl,dl
00000171  8A37              mov dh,[bx]
00000173  32ED              xor ch,ch
00000175  8ADE              mov bl,dh
00000177  8A07              mov al,[bx]
00000179  2AC1              sub al,cl
0000017B  8AE0              mov ah,al
0000017D  02E6              add ah,dh
0000017F  2BC1              sub ax,cx
00000181  F6C101            test cl,0x1
00000184  7402              jz 0x188
00000186  86E0              xchg ah,al
00000188  AB                stosw
00000189  FEC3              inc bl
0000018B  FEC5              inc ch
0000018D  80FDA0            cmp ch,0xa0
00000190  72E5              jc 0x177
00000192  FEC1              inc cl
00000194  80F9C8            cmp cl,0xc8
00000197  72D4              jc 0x16d
00000199  E460              in al,0x60
0000019B  3C01              cmp al,0x1
0000019D  75C8              jnz 0x167
0000019F  B80300            mov ax,0x3
000001A2  CD10              int 0x10
000001A4  C3                ret
